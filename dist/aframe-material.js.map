{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/core/event.js","webpack:///./src/utils.js","webpack:///./src/keyboard/assets.js","webpack:///./src/keyboard/config.js","webpack:///./src/keyboard/behaviors.js","webpack:///./src/keyboard/sfx.js","webpack:///./src/index.js","webpack:///./node_modules/aframe-rounded/lib/rounded.js","webpack:///./src/fade/index.js","webpack:///./src/keyboard/index.js","webpack:///./src/keyboard/draw.js","webpack:///./src/keyboard/layouts.js","webpack:///./src/input/index.js","webpack:///./src/switch/index.js","webpack:///./src/switch/assets.js","webpack:///./src/switch/sfx.js","webpack:///./src/form/index.js","webpack:///./src/radio/index.js","webpack:///./src/radio/assets.js","webpack:///./src/radio/sfx.js","webpack:///./src/checkbox/index.js","webpack:///./src/checkbox/assets.js","webpack:///./src/checkbox/sfx.js","webpack:///./src/button/index.js","webpack:///./src/button/assets.js","webpack:///./src/button/sfx.js","webpack:///./src/toast/index.js","webpack:///./src/toast/assets.js","webpack:///./src/toast/sfx.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","emit","el","data","dispatchEvent","CustomEvent","detail","Utils","assetsArr","alreadyExists","assets","document","querySelector","scene","createElement","appendChild","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","iterator","next","done","item","_arr","Array","from","children","_i","length","stuff","id","assetItem","type","setAttribute","src","err","return","a","b","original","isArray","slice","clone","getPrototypeOf","keys","getOwnPropertyNames","getOwnPropertyDescriptor","opacity","hasAttribute","props","getAttribute","object3D","traverse","material","transparent","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","querySelectorAll","wrapCount","widthFactor","components","text","currentFont","AFRAME","window","aframeKeyboardShift","concat","ASSETS_PATH","aframeKeyboardShiftActive","aframeKeyboardGlobal","aframeKeyboardBackspace","aframeKeyboardEnter","aframeKeyboardDismiss","aframeKeyboardShadow","aframeKeyboardKeyIn","aframeKeyboardKeyDown","KEYBOARD_COLOR","KEY_COLOR_HIGHLIGHT","KEY_COLOR_ACTIVE","SPACEBAR_COLOR_ACTIVE","SPACEBAR_COLOR_HIGHLIGHT","KEY_WIDTH","SPACE_KEY_WIDTH","SPACE_KEY_HEIGHT","ACTION_WIDTH","Assets","require","Config","Event","SFX","THREE","Behaviors","o_position","position","copy","isOpen","parentNode","sceneEl","x","Vector3","duration","parent","removeChild","_transitioning","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_loop","addEventListener","animationend","removeEventListener","setTimeout","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_loop2","hideKeyboard","_iterator4","keyClick","keyDown","keyOut","keyIn","this","isShiftEnabled","toUpperCase","shiftToggle","isSymbols","symbolsToggle","z","iconEl","shiftKey","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","keyEl","keyId","keyType","startsWith","textEl","toLowerCase","alphabeticalLayout","symbolsLayout","updateOpacity","init","sound","stopSound","playSound","console","error","registerComponent","schema","enabled","default","width","height","radius","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","color","rounded","Mesh","draw","MeshPhongMaterial","Color","side","DoubleSide","setObject3D","update","visible","geometry","tick","remove","roundedRectShape","Shape","ctx","y","corners","moveTo","lineTo","quadraticCurveTo","ShapeBufferGeometry","pause","play","registerPrimitive","defaultComponents","mappings","top-left-radius","top-right-radius","bottom-left-radius","bottom-right-radius","opacityUpdate","textEntities","start","Math","min","removeAttribute","Draw","physicalKeyboard","currentInput","that","numericalUI","mainUI","actionsUI","numericalLayout","actionsLayout","show","showKeyboard","hide","open","openKeyboard","dismiss","dismissKeyboard","destroy","destroyKeyboard","inputEvent","backspaceEvent","dismissEvent","keydownEvent","body","didFocusInputEvent","didBlurInputEvent","e","appendString","deleteLast","blur","preventDefault","stopPropagation","keyboard","is-open","physical-keyboard","Layouts","wrapper","numerical","indexY","indexX","alphabetical","prevWasSpace","symbols","actions","valY","parseInt","addKeyEvents","shadow_el","letterEl","shiftEl","globalEl","backspaceEl","circleEl","enterEl","dismissEl","disabled","align","font","letterSpacing","lineHeight","tabSize","placeholder","placeholderColor","maxLength","cursorWidth","cursorHeight","cursorColor","backgroundColor","backgroundOpacity","background","cursor","focus","blink","input","set","configurable","isFocused","clearInterval","cursorInterval","setInterval","noemit","str","updateText","padding","left","right","attr","getTextWidth","trimFirst","_widthFactor","v","visibleGlyphs","line","substr","getWidthFactor","cursorTimer","clearTimeout","substring","repeat","placeholderProps","updateCursor","letter-spacing","line-height","tab-size","placeholder-color","max-length","cursor-width","cursor-height","cursor-color","background-color","background-opacity","fillColor","knobColor","fillColorEnabled","knobColorEnabled","fillColorDisabled","knobColorDisabled","preloadAssets","fill","knob","switch","clickDisabled","click","on","off","disable","fill-color","knob-color","fill-color-enabled","knob-color-enabled","fill-color-disabled","knob-color-disabled","form","checked","label","radioColor","radioColorChecked","hitbox","outline","circle","radio","onClick","nearestForm","closest","didCheck","reverse","child","check","uncheck","timer","radio-color","radio-color-checked","checkboxColor","checkboxColorChecked","inside","checkmark","checkbox","checkbox-color","checkbox-color-checked","buttonColor","shadow","button","getWidth","__width","callback","button-color","message","action","actionColor","autoshow","hideTimer","scale","toast","action-color"],"mappings":"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","file":"aframe-material.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = {\n  emit: (el, name, data) => {\n    el.dispatchEvent(new CustomEvent(name, {detail: data}));\n  }\n};\n","const Utils = {};\n\n/**\n  Utils.preloadAssets([])\n  Add assets to Assets managment system.\n*/\nUtils.preloadAssets = (assetsArr) => {\n  let assets = document.querySelector(\"a-assets\");\n  let alreadyExists;\n\n  if (!assets) {\n    var scene = document.querySelector(\"a-scene\");\n    assets = document.createElement(\"a-assets\");\n    scene.appendChild(assets);\n  }\n\n  for (let item of assetsArr) {\n    alreadyExists = false;\n\n    /** *** With Edge, assets.children is a HTMLCollection, not an Array! *****/\n    for (let stuff of Array.from(assets.children)) {\n      if (item.id === stuff.id) {\n        alreadyExists = true;\n      }\n    }\n\n    if (!alreadyExists) {\n      var assetItem = document.createElement(item.type);\n      assetItem.setAttribute(\"id\", item.id);\n      assetItem.setAttribute(\"src\", item.src);\n      assets.appendChild(assetItem);\n    }\n  }\n};\n\n/**\n  Utils.extend(a, b)\n  Assign object to other object.\n*/\nUtils.extend = function (a, b) {\n  for (let key in b) {\n    if (b.hasOwnProperty(key)) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n\nUtils.clone = function (original) {\n  if (Array.isArray(original)) {\n    return original.slice(0);\n  }\n\n\t// First create an empty object with\n\t// same prototype of our original source\n  const clone = Object.create(Object.getPrototypeOf(original));\n  let i;\n  const keys = Object.getOwnPropertyNames(original);\n  i = 0;\n  while (i < keys.length) {\n\t\t// copy each property into the clone\n    Object.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n    i++;\n  }\n  return clone;\n};\n\nUtils.updateOpacity = function (el, opacity) {\n  if (el.hasAttribute(\"text\")) {\n    let props = el.getAttribute(\"text\");\n    if (props) {\n      props.opacity = opacity;\n      el.setAttribute(\"text\", props);\n    }\n  }\n  el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of el.querySelectorAll(\"a-text\")) {\n    text.setAttribute(\"opacity\", opacity);\n  }\n};\n\n// Calculate the width factor\nUtils.getWidthFactor = function (el, wrapCount) {\n  let widthFactor = 0.00001;\n  if (el.components.text && el.components.text.currentFont) {\n    widthFactor = el.components.text.currentFont.widthFactor;\n    widthFactor = ((0.5 + wrapCount) * widthFactor);\n  }\n  return widthFactor;\n};\n\nmodule.exports = Utils;\n","const AFRAME = window.AFRAME;\n\nmodule.exports = {\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\n};\n","const Config = {\n  KEYBOARD_COLOR: \"#263238\",\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n  KEY_COLOR_ACTIVE: \"#404b50\",\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n  KEY_WIDTH: 0.08,\n  SPACE_KEY_WIDTH: 0.368,\n  SPACE_KEY_HEIGHT: 0.05,\n  ACTION_WIDTH: 0.140\n};\n\nmodule.exports = Config;\n","const Assets = require(\"./assets\");\nconst Config = require(\"./config\");\nconst Utils = require(\"../utils\");\nconst Event = require(\"../core/event\");\nconst SFX = require(\"./sfx\");\n\nconst THREE = window.THREE;\n\nconst Behaviors = {};\n\nBehaviors.el = null;\n\n// -----------------------------------------------------------------------------\n// KEYBOARD METHODS\n\nBehaviors.showKeyboard = function (el) {\n  if (el.o_position) {\n    el.object3D.position.copy(el.o_position);\n  }\n  el.isOpen = true;\n  for (let item of el.querySelectorAll(\"[data-ui]\")) {\n    for (let child of item.children) {\n      child.setAttribute(\"show\", true);\n    }\n  }\n  let parent = el.parentNode;\n  if (parent) { return; }\n  el.sceneEl.appendChild(el);\n};\n\nBehaviors.hideKeyboard = function (el) {\n  let position = el.getAttribute(\"position\");\n  if (position.x !== -10000) {\n    if (!el.o_position) {\n      el.o_position = new THREE.Vector3();\n    }\n    el.o_position.copy(position);\n  }\n  el.isOpen = false;\n  el.setAttribute(\"position\", \"-10000 -10000 -10000\");\n  el.setAttribute(\"fadeout\", {duration: 1});\n};\n\nBehaviors.destroyKeyboard = function (el) {\n  let parent = el.parentNode;\n  if (!parent) { return; }\n  parent.removeChild(el);\n};\n\nBehaviors.openKeyboard = function (el) {\n  if (el.o_position) {\n    el.object3D.position.copy(el.o_position);\n  }\n  el.isOpen = true;\n  el._transitioning = true;\n  let parent = el.parentNode;\n  if (!parent) { el.sceneEl.appendChild(el); }\n  for (let item of el.querySelectorAll(\"[data-ui]\")) {\n    // for (let child of item.children) {\n    //   // this causes a stack overflow\n    //   // child.setAttribute(\"hide\", true);\n    // }\n    const animationend = () => {\n      item.children[0].removeEventListener(\"animationend\", animationend);\n      setTimeout(function () {\n        item.children[1].setAttribute(\"fadein\", {duration: 160});\n        Event.emit(Behaviors.el, \"didopen\");\n        el._transitioning = false;\n      }, 10);\n    };\n    item.children[0].setAttribute(\"fadein\", {duration: 160});\n    item.children[0].addEventListener(\"animationend\", animationend);\n  }\n};\n\nBehaviors.dismissKeyboard = function (el) {\n  el._transitioning = true;\n  for (let item of el.querySelectorAll(\"[data-ui]\")) {\n    // for (let child of item.children) {\n    //   // this causes a stack overflow\n    //   // child.setAttribute(\"show\", true);\n    // }\n    el.isOpen = false;\n    const animationend = () => {\n      item.children[1].removeEventListener(\"animationend\", animationend);\n      setTimeout(function () {\n        function animationend () {\n          item.children[0].removeEventListener(\"animationend\", animationend);\n          Behaviors.hideKeyboard(el);\n          Event.emit(Behaviors.el, \"diddismiss\");\n          el._transitioning = false;\n        }\n        item.children[0].setAttribute(\"fadeout\", {duration: 160});\n        item.children[0].addEventListener(\"animationend\", animationend);\n      }, 10);\n    };\n    item.children[1].setAttribute(\"fadeout\", {duration: 160});\n    item.children[1].addEventListener(\"animationend\", animationend);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEY EVENTS\n\nBehaviors.addKeyEvents = (el) => {\n  el.addEventListener(\"click\", Behaviors.keyClick);\n  el.addEventListener(\"mousedown\", Behaviors.keyDown);\n  el.addEventListener(\"mouseup\", Behaviors.keyOut);\n  el.addEventListener(\"raycaster-intersected\", Behaviors.keyIn);\n  el.addEventListener(\"raycaster-intersected-cleared\", Behaviors.keyOut);\n  // triggerdown\n  // https://aframe.io/docs/0.6.0/components/hand-controls.html\n};\n\n// -----------------------------------------------------------------------------\n// KEYCLICK\n\nBehaviors.keyClick = function () {\n  SFX.keyDown(Behaviors.el);\n\n  let type = this.getAttribute(\"key-type\");\n  let value = this.getAttribute(\"key-value\");\n\n  if (type === \"text\" || type === \"spacebar\") {\n    if (type === \"spacebar\") { value = \" \"; }\n    if (Behaviors.isShiftEnabled) {\n      value = value.toUpperCase();\n      Behaviors.shiftToggle();\n    } else if (Behaviors.isSymbols) {\n      Behaviors.symbolsToggle();\n    }\n    Event.emit(Behaviors.el, \"input\", value);\n  } else if (type === \"shift\") {\n    Behaviors.shiftToggle();\n  } else if (type === \"symbol\") {\n    Behaviors.symbolsToggle();\n  } else if (type === \"backspace\") {\n    Event.emit(Behaviors.el, \"backspace\");\n  } else if (type === \"enter\") {\n    Event.emit(Behaviors.el, \"input\", \"\\n\");\n    Event.emit(Behaviors.el, \"enter\", \"\\n\");\n  } else if (type === \"dismiss\") {\n    Event.emit(Behaviors.el, \"dismiss\");\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYDOWN\n\nBehaviors.keyDown = function () {\n  if (Behaviors.el._transitioning) { return; }\n  this.object3D.position.z = 0.003;\n  if (this.getAttribute(\"key-type\") === \"spacebar\") {\n    this.setAttribute(\"color\", Config.SPACEBAR_COLOR_ACTIVE);\n  } else {\n    this.setAttribute(\"color\", Config.KEY_COLOR_ACTIVE);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYIN\n\nBehaviors.keyIn = function () {\n  if (Behaviors.el._transitioning) { return; }\n  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\n    return;\n  }\n  SFX.keyIn(Behaviors.el);\n  if (this.getAttribute(\"key-type\") === \"spacebar\") {\n    this.setAttribute(\"color\", Config.SPACEBAR_COLOR_HIGHLIGHT);\n  } else {\n    this.setAttribute(\"color\", Config.KEY_COLOR_HIGHLIGHT);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// KEYOUT\n\nBehaviors.keyOut = function () {\n  this.object3D.position.z = 0;\n  if (this.getAttribute(\"key-type\") === \"spacebar\") {\n    this.setAttribute(\"color\", Config.KEY_COLOR_ACTIVE);\n  } else {\n    this.setAttribute(\"color\", Config.KEYBOARD_COLOR);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// SHIFT\n\nBehaviors.isShiftEnabled = false;\nBehaviors.shiftToggle = function () {\n  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\n\n  var iconEl = Behaviors.el.shiftKey.querySelector(\"[data-type]\");\n  if (Behaviors.isShiftEnabled) {\n    iconEl.setAttribute(\"src\", Assets.aframeKeyboardShiftActive);\n  } else {\n    iconEl.setAttribute(\"src\", Assets.aframeKeyboardShift);\n  }\n\n  for (let keyEl of document.querySelectorAll(\"[key-id]\")) {\n    let keyId = keyEl.getAttribute(\"key-id\");\n    let keyType = keyEl.getAttribute(\"key-type\");\n    if (keyId.startsWith(\"main-\") && keyType === \"text\") {\n      let textEl = keyEl.querySelector(\"a-text\");\n      if (textEl) {\n        let value = textEl.getAttribute(\"value\").toLowerCase();\n        if (this.isShiftEnabled) { value = value.toUpperCase(); }\n        textEl.setAttribute(\"value\", value);\n      }\n    }\n  }\n};\n\n// -----------------------------------------------------------------------------\n// SYMBOLS\n\nBehaviors.isSymbols = false;\nBehaviors.symbolsToggle = function () {\n  Behaviors.isSymbols = !Behaviors.isSymbols;\n  if (!Behaviors.isSymbols) {\n    let parent = Behaviors.el.symbolsLayout.parentNode;\n    parent.removeChild(Behaviors.el.symbolsLayout);\n    parent.appendChild(Behaviors.el.alphabeticalLayout);\n    setTimeout(function () {\n      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\n    }, 0);\n  } else {\n    let parent = Behaviors.el.alphabeticalLayout.parentNode;\n    parent.removeChild(Behaviors.el.alphabeticalLayout);\n    parent.appendChild(Behaviors.el.symbolsLayout);\n  }\n};\n\nmodule.exports = Behaviors;\n","var Assets = require(\"./assets\");\n\nconst SFX = {\n\n  init: function (parent) {\n    let el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeKeyboardKeyInSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", Assets.aframeKeyboardKeyIn);\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n\n    el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeKeyboardKeyDownSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", Assets.aframeKeyboardKeyDown);\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n  },\n\n  keyIn: function (parent) {\n    let el = parent.querySelector(\"[key=aframeKeyboardKeyInSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  keyDown: function (parent) {\n    let el = parent.querySelector(\"[key=aframeKeyboardKeyDownSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n};\n\nmodule.exports = SFX;\n","(() => {\n  const AFRAME = window.AFRAME;\n  if (!AFRAME) { return console.error(\"AFRAME is required!\"); }\n  if (!AFRAME.ASSETS_PATH) { AFRAME.ASSETS_PATH = \"./assets\"; }\n  require(\"aframe-rounded\");\n  require(\"./fade\");\n  // require(\"./alert\"); @TODO ;)\n  require(\"./keyboard\");\n  require(\"./input\");\n  require(\"./switch\");\n  require(\"./form\");\n  require(\"./radio\");\n  require(\"./checkbox\");\n  require(\"./button\");\n  require(\"./toast\");\n})();\n","AFRAME.registerComponent('rounded', {\n  schema: {\n    enabled: {default: true},\n    width: {type: 'number', default: 1},\n    height: {type: 'number', default: 1},\n    radius: {type: 'number', default: 0.3},\n    topLeftRadius: {type: 'number', default: -1},\n    topRightRadius: {type: 'number', default: -1},\n    bottomLeftRadius: {type: 'number', default: -1},\n    bottomRightRadius: {type: 'number', default: -1},\n    color: {type: 'color', default: \"#F0F0F0\"},\n    opacity: {type: 'number', default: 1}\n  },\n  init: function () {\n    this.rounded = new THREE.Mesh( this.draw(), new THREE.MeshPhongMaterial( { color: new THREE.Color(this.data.color), side: THREE.DoubleSide } ) );\n    this.updateOpacity();\n    this.el.setObject3D('mesh', this.rounded)\n  },\n  update: function () {\n    if (this.data.enabled) {\n      if (this.rounded) {\n        this.rounded.visible = true;\n        this.rounded.geometry = this.draw();\n        this.rounded.material.color = new THREE.Color(this.data.color);\n        this.updateOpacity();\n      }\n    } else {\n      this.rounded.visible = false;\n    }\n  },\n  updateOpacity: function() {\n    if (this.data.opacity < 0) { this.data.opacity = 0; }\n    if (this.data.opacity > 1) { this.data.opacity = 1; }\n    if (this.data.opacity < 1) {\n      this.rounded.material.transparent = true;\n    } else {\n      this.rounded.material.transparent = false;\n    }\n    this.rounded.material.opacity = this.data.opacity;\n  },\n  tick: function () {},\n  remove: function () {\n    if (!this.rounded) { return; }\n    this.el.object3D.remove( this.rounded );\n    this.rounded = null;\n  },\n  draw: function() {\n    var roundedRectShape = new THREE.Shape();\n    function roundedRect( ctx, x, y, width, height, topLeftRadius, topRightRadius, bottomLeftRadius, bottomRightRadius ) {\n      if (!topLeftRadius) { topLeftRadius = 0.00001; }\n      if (!topRightRadius) { topRightRadius = 0.00001; }\n      if (!bottomLeftRadius) { bottomLeftRadius = 0.00001; }\n      if (!bottomRightRadius) { bottomRightRadius = 0.00001; }\n      ctx.moveTo( x, y + topLeftRadius );\n      ctx.lineTo( x, y + height - topLeftRadius );\n      ctx.quadraticCurveTo( x, y + height, x + topLeftRadius, y + height );\n      ctx.lineTo( x + width - topRightRadius, y + height );\n      ctx.quadraticCurveTo( x + width, y + height, x + width, y + height - topRightRadius );\n      ctx.lineTo( x + width, y + bottomRightRadius );\n      ctx.quadraticCurveTo( x + width, y, x + width - bottomRightRadius, y );\n      ctx.lineTo( x + bottomLeftRadius, y );\n      ctx.quadraticCurveTo( x, y, x, y + bottomLeftRadius );\n    }\n\n    var corners = [this.data.radius, this.data.radius, this.data.radius, this.data.radius];\n    if (this.data.topLeftRadius != -1) { corners[0] = this.data.topLeftRadius; }\n    if (this.data.topRightRadius != -1) { corners[1] = this.data.topRightRadius; }\n    if (this.data.bottomLeftRadius != -1) { corners[2] = this.data.bottomLeftRadius; }\n    if (this.data.bottomRightRadius != -1) { corners[3] = this.data.bottomRightRadius; }\n\n    roundedRect( roundedRectShape, 0, 0, this.data.width, this.data.height, corners[0], corners[1], corners[2], corners[3] );\n    return new THREE.ShapeBufferGeometry( roundedRectShape );\n  },\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive('a-rounded', {\n  defaultComponents: {\n    rounded: {}\n  },\n  mappings: {\n    enabled: 'rounded.enabled',\n    width: 'rounded.width',\n    height: 'rounded.height',\n    radius: 'rounded.radius',\n    'top-left-radius': 'rounded.topLeftRadius',\n    'top-right-radius': 'rounded.topRightRadius',\n    'bottom-left-radius': 'rounded.bottomLeftRadius',\n    'bottom-right-radius': 'rounded.bottomRightRadius',\n    color: 'rounded.color',\n    opacity: 'rounded.opacity'\n  }\n});\n","const Event = require(\"../core/event\");\n\nconst AFRAME = window.AFRAME;\n\nvar opacityUpdate = function (opacity) {\n  this.el.object3D.traverse(function (o) {\n    if (o.material) {\n      o.material.transparent = true;\n      o.material.opacity = opacity;\n    }\n  });\n  for (let text of this.textEntities) {\n    text.setAttribute(\"opacity\", opacity);\n  }\n};\n\n// -----------------------------------------------------------------------------\n// FADEIN\n\nAFRAME.registerComponent(\"fadein\", {\n  schema: {\n    duration: { type: \"int\", default: 200 }\n  },\n  init: function () {\n    this.textEntities = this.el.querySelectorAll(\"a-text\");\n    this.opacityUpdate(0);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 1) {\n      this.el.removeAttribute(\"fadein\");\n      Event.emit(this.el, \"animationend\");\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// FADEOUT\n\nAFRAME.registerComponent(\"fadeout\", {\n  schema: {\n    duration: { type: \"int\", default: 200 }\n  },\n  init: function () {\n    this.textEntities = this.el.querySelectorAll(\"a-text\");\n    this.opacityUpdate(1);\n    this.start = null;\n  },\n  tick: function (t) {\n    if (!this.start) { this.start = t; }\n    var opacity = 1 - Math.min((t - this.start) / this.data.duration, 1);\n    this.opacityUpdate(opacity);\n    if (opacity === 0) {\n      this.el.removeAttribute(\"fadeout\");\n      Event.emit(this.el, \"animationend\");\n    }\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// SHOW\n\nAFRAME.registerComponent(\"show\", {\n  init: function () {\n    this.textEntities = this.el.querySelectorAll(\"a-text\");\n    this.opacityUpdate(1);\n    this.el.removeAttribute(\"show\");\n  },\n  opacityUpdate: opacityUpdate\n});\n\n// -----------------------------------------------------------------------------\n// HIDE\n\nAFRAME.registerComponent(\"hide\", {\n  init: function () {\n    this.textEntities = this.el.querySelectorAll(\"a-text\");\n    this.opacityUpdate(0);\n    this.el.removeAttribute(\"hide\");\n  },\n  opacityUpdate: opacityUpdate\n});\n","const Draw = require(\"./draw\");\nconst Behaviors = require(\"./behaviors\");\nconst SFX = require(\"./sfx\");\nconst Event = require(\"../core/event\");\n\nconst AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"keyboard\", {\n  schema: {\n    isOpen: { type: \"boolean\", default: false },\n    physicalKeyboard: { type: \"boolean\", default: false }\n  },\n  currentInput: null,\n  init: function () {\n    let that = this;\n\n    // SFX\n    SFX.init(this.el);\n\n    // Draw\n    Draw.init(this.el);\n\n    // Init keyboard UI\n    let numericalUI = Draw.numericalUI();\n    let mainUI = Draw.mainUI();\n    let actionsUI = Draw.actionsUI();\n\n    // Create layout\n    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\n    this.el.symbolsLayout = Draw.symbolsLayout();\n\n    // Append layouts to UI\n    numericalUI.appendChild(Draw.numericalLayout());\n    mainUI.appendChild(this.el.alphabeticalLayout);\n    actionsUI.appendChild(Draw.actionsLayout());\n\n    this.el.appendChild(numericalUI);\n    this.el.appendChild(mainUI);\n    this.el.appendChild(actionsUI);\n\n    // Inject methods in elements..\n    this.el.show = function () { Behaviors.showKeyboard(that.el); };\n    this.el.hide = function () { Behaviors.hideKeyboard(that.el); };\n    this.el.open = function () { Behaviors.openKeyboard(that.el); };\n    this.el.dismiss = function () { Behaviors.dismissKeyboard(that.el); };\n    this.el.destroy = function () { Behaviors.destroyKeyboard(that.el); };\n\n    // Set default value\n    this.el.setAttribute(\"scale\", \"2 2 2\");\n    this.el.setAttribute(\"rotation\", \"-20 0 0\");\n    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\n\n    // Register keyboard events\n    this.el.addEventListener(\"input\", this.inputEvent.bind(this));\n    this.el.addEventListener(\"backspace\", this.backspaceEvent.bind(this));\n    this.el.addEventListener(\"dismiss\", this.dismissEvent.bind(this));\n\n    // Register global events\n    document.addEventListener(\"keydown\", this.keydownEvent.bind(this));\n    document.body.addEventListener(\"didfocusinput\", this.didFocusInputEvent.bind(this));\n    document.body.addEventListener(\"didblurinput\", this.didBlurInputEvent.bind(this));\n  },\n  update: function () {\n    if (this.data.isOpen) {\n      Behaviors.showKeyboard(this.el);\n    } else {\n      Behaviors.hideKeyboard(this.el);\n    }\n  },\n  tick: function () {},\n  remove: function () {\n    this.el.removeEventListener(\"input\", this.inputEvent.bind(this));\n    this.el.removeEventListener(\"backspace\", this.backspaceEvent.bind(this));\n    this.el.removeEventListener(\"dismiss\", this.dismissEvent.bind(this));\n\n    document.removeEventListener(\"keydown\", this.keydownEvent.bind(this));\n    document.body.removeEventListener(\"didfocusinput\", this.didFocusInputEvent.bind(this));\n    document.body.removeEventListener(\"didblurinput\", this.didBlurInputEvent.bind(this));\n  },\n  pause: function () {},\n  play: function () {},\n\n  // Fired on keyboard key press\n  inputEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.appendString(e.detail);\n    }\n  },\n\n  // Fired on backspace key press\n  backspaceEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.deleteLast();\n    }\n  },\n\n  dismissEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.blur();\n    }\n  },\n\n  // physical keyboard event\n  keydownEvent: function (e) {\n    if (this.currentInput && this.data.physicalKeyboard) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (e.key === \"Enter\") {\n        Event.emit(Behaviors.el, \"input\", \"\\n\");\n        Event.emit(Behaviors.el, \"enter\", \"\\n\");\n      } else if (e.key === \"Backspace\") {\n        Event.emit(Behaviors.el, \"backspace\");\n      } else if (e.key === \"Escape\") {\n        Event.emit(Behaviors.el, \"dismiss\");\n      } else if (e.key.length < 2) {\n        Event.emit(Behaviors.el, \"input\", e.key);\n      }\n    }\n  },\n\n  // Fired when an input has been selected\n  didFocusInputEvent: function (e) {\n    if (this.currentInput) {\n      this.currentInput.blur(true);\n    }\n    this.currentInput = e.detail;\n    if (!this.el.isOpen) {\n      Behaviors.openKeyboard(this.el);\n    }\n  },\n\n  // Fired when an input has been deselected\n  didBlurInputEvent: function (e) {\n    this.currentInput = null;\n    Behaviors.dismissKeyboard(this.el);\n  }\n});\n\nAFRAME.registerPrimitive(\"a-keyboard\", {\n  defaultComponents: {\n    keyboard: {}\n  },\n  mappings: {\n    \"is-open\": \"keyboard.isOpen\",\n    \"physical-keyboard\": \"keyboard.physicalKeyboard\"\n  }\n});\n","/* eslint-disable brace-style */\nconst Assets = require(\"./assets\");\nconst Layouts = require(\"./layouts\");\nconst Config = require(\"./config\");\nconst Behaviors = require(\"./behaviors\");\nconst Draw = {};\n\nDraw.el = null;\n\nDraw.init = (el) => {\n  Draw.el = el;\n  Behaviors.el = el;\n  Behaviors.SFX = el.SFX;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL UI\n\nDraw.numericalUI = () => {\n  var wrapper = document.createElement(\"a-entity\");\n  wrapper.setAttribute(\"position\", \"0.025 0 0.12\");\n  wrapper.setAttribute(\"rotation\", \"0 25 0\");\n  wrapper.setAttribute(\"data-ui\", true);\n\n  var el = document.createElement(\"a-rounded\");\n  el.setAttribute(\"width\", \"0.280\");\n  el.setAttribute(\"height\", \"0.360\");\n  el.setAttribute(\"radius\", \"0.02\");\n  el.setAttribute(\"color\", Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW MAIN UI\n\nDraw.mainUI = () => {\n  var wrapper = document.createElement(\"a-entity\");\n  wrapper.setAttribute(\"position\", \"0.312 0 0\");\n  wrapper.setAttribute(\"data-ui\", true);\n\n  var el = document.createElement(\"a-rounded\");\n  el.setAttribute(\"width\", \"0.840\");\n  el.setAttribute(\"height\", \"0.360\");\n  el.setAttribute(\"radius\", \"0.02\");\n  el.setAttribute(\"color\", Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW ACTION UI\n\nDraw.actionsUI = () => {\n  var wrapper = document.createElement(\"a-entity\");\n  wrapper.setAttribute(\"position\", \"1.180 0 0.01\");\n  wrapper.setAttribute(\"rotation\", \"0 -25 0\");\n  wrapper.setAttribute(\"data-ui\", true);\n\n  var el = document.createElement(\"a-rounded\");\n  el.setAttribute(\"width\", \"0.180\");\n  el.setAttribute(\"height\", \"0.360\");\n  el.setAttribute(\"radius\", \"0.02\");\n  el.setAttribute(\"color\", Config.KEYBOARD_COLOR);\n  wrapper.appendChild(el);\n\n  return wrapper;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW NUMERICAL LAYOUT\n\nDraw.numericalLayout = () => {\n  var data = Layouts.numerical;\n  var wrapper = document.createElement(\"a-entity\");\n  wrapper.setAttribute(\"position\", \"0.02 0.26 0.001\");\n\n  let indexY = 0;\n  for (var i in data) {\n    let keyId = \"num-\" + i;\n    let key = Draw.key(keyId, data[i].type, data[i].value);\n    let indexX = i % 3;\n    let x = Config.KEY_WIDTH * indexX;\n    let y = Config.KEY_WIDTH * indexY;\n    key.setAttribute(\"position\", `${x} -${y} 0`);\n    if (indexX === 2) { indexY++; }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW ALPHABETICAL LAYOUT\n\nDraw.alphabeticalLayout = () => {\n  var data = Layouts.alphabetical;\n  var wrapper = document.createElement(\"a-entity\");\n  wrapper.setAttribute(\"position\", \"0.02 0.26 0.001\");\n\n  let indexY = 0;\n  let indexX = 0;\n  let prevWasSpace = false;\n\n  for (var i in data) {\n    let keyId = \"main-\" + i;\n    let key = Draw.key(keyId, data[i].type, data[i].value);\n\n    let x = Config.KEY_WIDTH * indexX;\n    let y = Config.KEY_WIDTH * indexY;\n\n    // Add left padding on the second line\n    if (indexY === 1) {\n      x = x + Config.KEY_WIDTH / 2;\n    }\n\n    // Add margin on the key next to the spacebar key\n    if (prevWasSpace) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055 * 2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === \"spacebar\") {\n      prevWasSpace = true;\n      x = x + 0.055;\n      y = Config.KEY_WIDTH * indexY - 0.01;\n    }\n\n    key.setAttribute(\"position\", `${x} -${y} 0`);\n\n    if (indexY === 1 && indexX === 8) {\n      indexX = -1;\n      indexY++;\n    } else if (indexX === 9) {\n      indexX = -1;\n      indexY++;\n    }\n    indexX++;\n\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW SYMBOLS LAYOUT\n\nDraw.symbolsLayout = () => {\n  var data = Layouts.symbols;\n  var wrapper = document.createElement(\"a-entity\");\n  wrapper.setAttribute(\"position\", \"0.02 0.26 0.001\");\n\n  let indexY = 0;\n  let indexX = 0;\n  let prevWasSpace = false;\n\n  for (var i in data) {\n    let keyId = \"symbols-\" + i;\n    let key = Draw.key(keyId, data[i].type, data[i].value);\n    let x = Config.KEY_WIDTH * indexX;\n    let y = Config.KEY_WIDTH * indexY;\n\n    // Add margin on the key next to the spacebar key\n    if (prevWasSpace) {\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055 * 2);\n    }\n\n    // Add margin to the spacebar key\n    if (data[i].type === \"spacebar\") {\n      prevWasSpace = true;\n      x = x + 0.055;\n      y = Config.KEY_WIDTH * indexY - 0.01;\n    }\n\n    key.setAttribute(\"position\", `${x} -${y} 0`);\n\n    if (indexX === 9) {\n      indexX = -1;\n      indexY++;\n    }\n    indexX++;\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW ACTIONS LAYOUT\n\nDraw.actionsLayout = () => {\n  var data = Layouts.actions;\n  var wrapper = document.createElement(\"a-entity\");\n  wrapper.setAttribute(\"position\", \"0.02 0.26 0.001\");\n\n  let valY = 0;\n  for (var i in data) {\n    let keyId = \"action-\" + i;\n    let key = Draw.key(keyId, data[i].type, data[i].value);\n\n    key.setAttribute(\"position\", `0 -${valY} 0`);\n    if (parseInt(i) === 0) {\n      valY += Config.ACTION_WIDTH + 0.01;\n    } else if (parseInt(i) === 1) {\n      valY += Config.KEY_WIDTH + 0.01;\n    }\n    wrapper.appendChild(key);\n  }\n\n  return wrapper;\n};\n\n// -----------------------------------------------------------------------------\n// DRAW KEY\n\nDraw.key = (id, type, value) => {\n  var el = document.createElement(\"a-rounded\");\n  el.setAttribute(\"key-id\", id);\n  el.setAttribute(\"width\", Config.KEY_WIDTH);\n  el.setAttribute(\"height\", Config.KEY_WIDTH);\n  el.setAttribute(\"radius\", \"0.008\");\n  el.setAttribute(\"position\", \"0 0 0\");\n  el.setAttribute(\"key-type\", type);\n  el.setAttribute(\"key-value\", value);\n  el.setAttribute(\"color\", Config.KEYBOARD_COLOR);\n\n  // ---------------------------------------------------------------------------\n  // EVENTS\n\n  Behaviors.addKeyEvents(el);\n\n  // ---------------------------------------------------------------------------\n  // SHADOW\n\n  el.shadow_el = document.createElement(\"a-image\");\n  el.shadow_el.setAttribute(\"width\", Config.KEY_WIDTH * 1.25);\n  el.shadow_el.setAttribute(\"height\", Config.KEY_WIDTH * 1.25);\n  el.shadow_el.setAttribute(\"position\", Config.KEY_WIDTH / 2 + \" \" + Config.KEY_WIDTH / 2 + \" -0.002\");\n  el.shadow_el.setAttribute(\"src\", Assets.aframeKeyboardShadow);\n  el.appendChild(el.shadow_el);\n\n  // ---------------------------------------------------------------------------\n  // TEXT KEY\n\n  if (type === \"text\" || type === \"spacebar\" || type === \"symbol\") {\n    var letterEl = document.createElement(\"a-text\");\n    letterEl.setAttribute(\"value\", value);\n    letterEl.setAttribute(\"color\", \"#dbddde\");\n    letterEl.setAttribute(\"position\", Config.KEY_WIDTH / 2 + \" \" + Config.KEY_WIDTH / 2 + \" 0.01\");\n    letterEl.setAttribute(\"scale\", \"0.16 0.16 0.16\");\n    letterEl.setAttribute(\"align\", \"center\");\n    letterEl.setAttribute(\"baseline\", \"center\");\n    el.appendChild(letterEl);\n  }\n\n  // ---------------------------------------------------------------------------\n  // SPACEBAR KEY\n\n  if (type === \"spacebar\") {\n    el.setAttribute(\"width\", Config.SPACE_KEY_WIDTH);\n    el.setAttribute(\"height\", Config.SPACE_KEY_HEIGHT);\n    el.setAttribute(\"color\", \"#404b50\");\n    el.shadow_el.setAttribute(\"width\", Config.SPACE_KEY_WIDTH * 1.12);\n    el.shadow_el.setAttribute(\"height\", Config.SPACE_KEY_HEIGHT * 1.2);\n    el.shadow_el.setAttribute(\"position\", Config.SPACE_KEY_WIDTH / 2 + \" \" + Config.SPACE_KEY_HEIGHT / 2 + \" -0.02\");\n    letterEl.setAttribute(\"color\", \"#adb1b3\");\n    letterEl.setAttribute(\"scale\", \"0.12 0.12 0.12\");\n    letterEl.setAttribute(\"position\", Config.SPACE_KEY_WIDTH / 2 + \" \" + Config.SPACE_KEY_HEIGHT / 2 + \" 0\");\n  }\n\n  // ---------------------------------------------------------------------------\n  // SYMBOL KEY\n\n  else if (type === \"symbol\") {\n    letterEl.setAttribute(\"scale\", \"0.12 0.12 0.12\");\n  }\n\n  // ---------------------------------------------------------------------------\n  // ACTION KEY\n\n  if (type === \"backspace\" || type === \"enter\" || type === \"dismiss\") {\n    el.setAttribute(\"width\", Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute(\"width\", Config.ACTION_WIDTH * 1.25);\n    el.shadow_el.setAttribute(\"position\", Config.ACTION_WIDTH / 2 + \" \" + Config.KEY_WIDTH / 2 + \" -0.02\");\n  }\n\n  // ---------------------------------------------------------------------------\n  // SHIFT KEY\n\n  if (type === \"shift\") {\n    const shiftEl = document.createElement(\"a-image\");\n    shiftEl.setAttribute(\"data-type\", \"icon\");\n    shiftEl.setAttribute(\"width\", \"0.032\");\n    shiftEl.setAttribute(\"height\", \"0.032\");\n    shiftEl.setAttribute(\"position\", \"0.04 0.04 0.01\");\n    shiftEl.setAttribute(\"src\", Assets.aframeKeyboardShift);\n    el.appendChild(shiftEl);\n    Draw.el.shiftKey = el;\n  }\n\n  // ---------------------------------------------------------------------------\n  // GLOBAL\n\n  else if (type === \"global\") {\n    const globalEl = document.createElement(\"a-image\");\n    globalEl.setAttribute(\"width\", \"0.032\");\n    globalEl.setAttribute(\"height\", \"0.032\");\n    globalEl.setAttribute(\"position\", \"0.04 0.04 0.01\");\n    globalEl.setAttribute(\"src\", Assets.aframeKeyboardGlobal);\n    el.appendChild(globalEl);\n  }\n\n  // ---------------------------------------------------------------------------\n  // BACKSPACE\n\n  else if (type === \"backspace\") {\n    const backspaceEl = document.createElement(\"a-image\");\n    backspaceEl.setAttribute(\"width\", \"0.046\");\n    backspaceEl.setAttribute(\"height\", \"0.046\");\n    backspaceEl.setAttribute(\"position\", \"0.07 0.04 0.01\");\n    backspaceEl.setAttribute(\"src\", Assets.aframeKeyboardBackspace);\n    el.appendChild(backspaceEl);\n  }\n\n  // ---------------------------------------------------------------------------\n  // ENTER\n\n  else if (type === \"enter\") {\n    el.setAttribute(\"height\", Config.ACTION_WIDTH);\n    el.shadow_el.setAttribute(\"height\", Config.ACTION_WIDTH * 1.25);\n    el.shadow_el.setAttribute(\"position\", Config.ACTION_WIDTH / 2 + \" \" + Config.ACTION_WIDTH / 2 + \" -0.02\");\n\n    var circleEl = document.createElement(\"a-circle\");\n    circleEl.setAttribute(\"color\", \"#4285f4\");\n    circleEl.setAttribute(\"radius\", 0.044);\n    circleEl.setAttribute(\"position\", \"0.07 0.07 0.01\");\n    el.appendChild(circleEl);\n\n    const enterEl = document.createElement(\"a-image\");\n    enterEl.setAttribute(\"width\", \"0.034\");\n    enterEl.setAttribute(\"height\", \"0.034\");\n    enterEl.setAttribute(\"position\", \"0.07 0.07 0.011\");\n    enterEl.setAttribute(\"src\", Assets.aframeKeyboardEnter);\n    el.appendChild(enterEl);\n  }\n\n  // ---------------------------------------------------------------------------\n  // DISMISS\n\n  else if (type === \"dismiss\") {\n    const dismissEl = document.createElement(\"a-image\");\n    dismissEl.setAttribute(\"width\", \"0.046\");\n    dismissEl.setAttribute(\"height\", \"0.046\");\n    dismissEl.setAttribute(\"position\", \"0.07 0.04 0.01\");\n    dismissEl.setAttribute(\"src\", Assets.aframeKeyboardDismiss);\n    el.appendChild(dismissEl);\n  }\n\n  return el;\n};\n\nmodule.exports = Draw;\n","const Layouts = {\n  numerical: [\n    { type: \"text\", value: \"1\" },\n    { type: \"text\", value: \"2\" },\n    { type: \"text\", value: \"3\" },\n    { type: \"text\", value: \"4\" },\n    { type: \"text\", value: \"5\" },\n    { type: \"text\", value: \"6\" },\n    { type: \"text\", value: \"7\" },\n    { type: \"text\", value: \"8\" },\n    { type: \"text\", value: \"9\" },\n    { type: \"text\", value: \".\" },\n    { type: \"text\", value: \"0\" },\n    { type: \"text\", value: \"-\" }\n  ],\n\n  alphabetical: [\n    { type: \"text\", value: \"q\" },\n    { type: \"text\", value: \"w\" },\n    { type: \"text\", value: \"e\" },\n    { type: \"text\", value: \"r\" },\n    { type: \"text\", value: \"t\" },\n    { type: \"text\", value: \"y\" },\n    { type: \"text\", value: \"u\" },\n    { type: \"text\", value: \"i\" },\n    { type: \"text\", value: \"o\" },\n    { type: \"text\", value: \"p\" },\n\n    { type: \"text\", value: \"a\" },\n    { type: \"text\", value: \"s\" },\n    { type: \"text\", value: \"d\" },\n    { type: \"text\", value: \"f\" },\n    { type: \"text\", value: \"g\" },\n    { type: \"text\", value: \"h\" },\n    { type: \"text\", value: \"j\" },\n    { type: \"text\", value: \"k\" },\n    { type: \"text\", value: \"l\" },\n\n    { type: \"shift\" },\n    { type: \"text\", value: \"z\" },\n    { type: \"text\", value: \"x\" },\n    { type: \"text\", value: \"c\" },\n    { type: \"text\", value: \"v\" },\n    { type: \"text\", value: \"b\" },\n    { type: \"text\", value: \"n\" },\n    { type: \"text\", value: \"m\" },\n    { type: \"text\", value: \"!\" },\n    { type: \"text\", value: \"?\" },\n\n    { type: \"symbol\", value: \"#+=\" },\n    { type: \"text\", value: \"@\" },\n    { type: \"spacebar\", value: \"\" },\n    { type: \"text\", value: \",\" },\n    { type: \"text\", value: \".\" }\n  ],\n\n  symbols: [\n    { type: \"text\", value: \"@\" },\n    { type: \"text\", value: \"#\" },\n    { type: \"text\", value: \"$\" },\n    { type: \"text\", value: \"%\" },\n    { type: \"text\", value: \"&\" },\n    { type: \"text\", value: \"*\" },\n    { type: \"text\", value: \"-\" },\n    { type: \"text\", value: \"+\" },\n    { type: \"text\", value: \"(\" },\n    { type: \"text\", value: \")\" },\n\n    { type: \"text\", value: \"~\" },\n    { type: \"text\", value: \"`\" },\n    { type: \"text\", value: \"\\\"\" },\n    { type: \"text\", value: \"'\" },\n    { type: \"text\", value: \":\" },\n    { type: \"text\", value: \";\" },\n    { type: \"text\", value: \"_\" },\n    { type: \"text\", value: \"=\" },\n    { type: \"text\", value: \"\\\\\" },\n    { type: \"text\", value: \"/\" },\n\n    { type: \"text\", value: \"{\" },\n    { type: \"text\", value: \"}\" },\n    { type: \"text\", value: \"[\" },\n    { type: \"text\", value: \"]\" },\n    { type: \"text\", value: \"<\" },\n    { type: \"text\", value: \">\" },\n    { type: \"text\", value: \"^\" },\n    { type: \"text\", value: \"|\" },\n    { type: \"text\", value: \"!\" },\n    { type: \"text\", value: \"?\" },\n\n    { type: \"symbol\", value: \"ABC\" },\n    { type: \"text\", value: \"@\" },\n    { type: \"spacebar\", value: \"\" },\n    { type: \"text\", value: \",\" },\n    { type: \"text\", value: \".\" }\n  ],\n\n  actions: [\n    { type: \"backspace\", value: \"Del\" },\n    { type: \"enter\", value: \"OK\" },\n    { type: \"dismiss\", value: \"W\" }\n  ]\n};\n\nmodule.exports = Layouts;\n","const Utils = require(\"../utils\");\nconst Event = require(\"../core/event\");\n\n/*\n@BUG: Space has not effect when no letter comes after.\n@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\n*/\n\nconst AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"input\", {\n  schema: {\n    value: { type: \"string\", default: \"\" },\n    name: { type: \"string\", default: \"\" },\n    disabled: { type: \"boolean\", default: false },\n    color: { type: \"color\", default: \"#000\" },\n    align: { type: \"string\", default: \"left\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    side: { type: \"string\", default: \"front\" },\n    tabSize: { type: \"int\", default: 4 },\n    placeholder: { type: \"string\", default: \"\" },\n    placeholderColor: { type: \"color\", default: \"#AAA\" },\n    maxLength: { type: \"int\", default: 0 },\n    type: { type: \"string\", default: \"text\" },\n    width: { type: \"number\", default: 1 },\n    cursorWidth: { type: \"number\", default: 0.01 },\n    cursorHeight: { type: \"number\", default: 0.08 },\n    cursorColor: { type: \"color\", default: \"#007AFF\" },\n    backgroundColor: { type: \"color\", default: \"#FFF\" },\n    backgroundOpacity: { type: \"number\", default: 1 }\n  },\n\n  init: function () {\n    let that = this;\n\n    this.background = document.createElement(\"a-rounded\");\n    this.background.setAttribute(\"radius\", 0.01);\n    this.background.setAttribute(\"height\", 0.18);\n    this.background.setAttribute(\"side\", \"double\");\n    this.el.appendChild(this.background);\n\n    this.cursor = document.createElement(\"a-plane\");\n    this.cursor.setAttribute(\"position\", \"0 0 0.003\");\n    this.cursor.setAttribute(\"visible\", false);\n    this.el.appendChild(this.cursor);\n\n    this.text = document.createElement(\"a-entity\");\n    this.el.appendChild(this.text);\n\n    this.placeholder = document.createElement(\"a-entity\");\n    this.placeholder.setAttribute(\"visible\", false);\n    this.el.appendChild(this.placeholder);\n\n    this.el.focus = this.focus.bind(this);\n    this.el.blur = this.blur.bind(this);\n    this.el.appendString = this.appendString.bind(this);\n    this.el.deleteLast = this.deleteLast.bind(this);\n\n    // setTimeout(function() { that.updateText(); }, 0);\n    this.blink();\n\n    this.el.addEventListener(\"click\", function () {\n      if (this.components.input.data.disabled) { return; }\n      that.focus();\n    });\n\n    Object.defineProperty(this.el, \"value\", {\n      get: function () { return this.getAttribute(\"value\"); },\n      set: function (value) { this.setAttribute(\"value\", value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  blink: function () {\n    let that = this;\n    if (!this.isFocused) {\n      that.cursor.setAttribute(\"visible\", false);\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n      return;\n    }\n    this.cursorInterval = setInterval(function () {\n      that.cursor.setAttribute(\"visible\", !that.cursor.getAttribute(\"visible\"));\n    }, 500);\n  },\n  isFocused: false,\n  focus: function (noemit) {\n    if (this.isFocused) { return; }\n    this.isFocused = true;\n    this.cursor.setAttribute(\"visible\", true);\n    this.blink();\n    Event.emit(this.el, \"focus\");\n    if (!noemit) { Event.emit(document.body, \"didfocusinput\", this.el); }\n  },\n  blur: function (noemit) {\n    if (!this.isFocused) { return; }\n    this.isFocused = false;\n    if (this.cursorInterval) {\n      clearInterval(this.cursorInterval);\n      this.cursorInterval = null;\n    }\n    this.cursor.setAttribute(\"visible\", false);\n    Event.emit(this.el, \"blur\");\n    if (!noemit) { Event.emit(document.body, \"didblurinput\", this.el); }\n  },\n  appendString: function (data) {\n    if (data === \"\\n\") {\n      return this.blur();\n    }\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\"; }\n    str = str + data;\n    this.el.setAttribute(\"value\", str);\n    Event.emit(this.el, \"change\", str);\n  },\n  deleteLast: function () {\n    let str = this.el.getAttribute(\"value\");\n    if (!str) { str = \"\"; }\n    str = str.slice(0, -1);\n    this.el.setAttribute(\"value\", str);\n    Event.emit(this.el, \"change\", str);\n  },\n  updateText: function () {\n    let that = this;\n    let padding = {\n      left: 0.021,\n      right: 0.021\n    };\n\n    let props = {\n      color: this.data.color,\n      align: this.data.align,\n      side: this.data.side,\n      tabSize: this.data.tabSize,\n      wrapCount: 24 * this.data.width,\n      width: this.data.width\n    };\n\n    // Make cursor stop blinking when typing..\n    // (and blinking again after typing stop).\n    let attr = this.text.getAttribute(\"text\");\n    if (attr) {\n      if (this.data.value !== attr.value) {\n        if (this.cursorInterval) {\n          clearInterval(this.cursorInterval);\n          this.cursorInterval = null;\n        }\n        if (this.cursorTimer) {\n          clearTimeout(this.cursorTimer);\n          this.cursorTimer = null;\n        }\n        this.cursor.setAttribute(\"visible\", true);\n        this.cursorTimer = setTimeout(function () {\n          that.blink();\n        }, 50);\n      }\n    }\n\n    // Max length\n    if (this.data.maxLength) {\n      props.value = this.data.value.substring(0, this.data.maxLength);\n      this.el.setAttribute(\"value\", props.value);\n    } else {\n      props.value = this.data.value;\n    }\n\n    if (this.data.type === \"password\") {\n      props.value = \"*\".repeat(this.data.value.length);\n    }\n\n    if (this.data.font.length) { props.font = this.data.font; }\n    if (this.data.letterSpacing) { props.letterSpacing = this.data.letterSpacing; }\n    if (this.data.lineHeight.length) { props.lineHeight = this.data.lineHeight; }\n    this.text.setAttribute(\"visible\", false);\n    this.text.setAttribute(\"text\", props);\n\n    function getTextWidth (el, data, trimFirst, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length - 1];\n      if (!v) { return 0; }\n      if (v.line) {\n        if (trimFirst) {\n          data.value = data.value.substr(1);\n        } else {\n          data.value = data.value.slice(0, -1);\n        }\n        el.setAttribute(\"text\", data);\n        return getTextWidth(el, data, trimFirst);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, data.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n        let textRatio = (v + padding.left + padding.right) / that.data.width;\n\n        if (textRatio > 1) {\n          if (trimFirst) {\n            data.value = data.value.substr(1);\n          } else {\n            data.value = data.value.slice(0, -1);\n          }\n          el.setAttribute(\"text\", data);\n          return getTextWidth(el, data, trimFirst, _widthFactor);\n        }\n      }\n      return v;\n    }\n\n    if (props.value.length) {\n      this.placeholder.setAttribute(\"visible\", false);\n    } else {\n      this.placeholder.setAttribute(\"visible\", true);\n    }\n\n    let placeholderProps = Utils.clone(props);\n    placeholderProps.value = this.data.placeholder;\n    placeholderProps.color = this.data.placeholderColor;\n    this.placeholder.setAttribute(\"text\", placeholderProps);\n\n    setTimeout(function () {\n      if (that.text.object3D) {\n        let children = that.text.object3D.children;\n        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\n          let v = 0;\n          if (children[0].geometry.visibleGlyphs.length) {\n            v = getTextWidth(that.text, props, true);\n            that.text.setAttribute(\"visible\", true);\n          }\n          that.cursor.setAttribute(\"position\", v + padding.left + \" 0 0.003\");\n        } else {\n          that.cursor.setAttribute(\"position\", padding.left + \" 0 0.003\");\n        }\n      } else { that.cursor.setAttribute(\"position\", padding.left + \" 0 0.003\"); }\n      getTextWidth(that.placeholder, placeholderProps);\n    }, 0);\n\n    this.background.setAttribute(\"color\", this.data.backgroundColor);\n    /* if (this.data.backgroundOpacity) {\n      setTimeout(function() {\n        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\n      }, 0);\n    }*/\n    this.background.setAttribute(\"width\", this.data.width);\n    // this.background.setAttribute('position', this.data.width/2+' 0 0');\n    this.background.setAttribute(\"position\", \"0 -0.09 0.001\");\n    this.text.setAttribute(\"position\", padding.left - 0.001 + this.data.width / 2 + \" 0 0.002\");\n    this.placeholder.setAttribute(\"position\", padding.left - 0.001 + this.data.width / 2 + \" 0 0.002\");\n  },\n  updateCursor: function () {\n    this.cursor.setAttribute(\"width\", this.data.cursorWidth);\n    this.cursor.setAttribute(\"height\", this.data.cursorHeight);\n    this.cursor.setAttribute(\"color\", this.data.cursorColor);\n  },\n  update: function () {\n    setTimeout(function () {\n    //  Utils.updateOpacity(that.el, that.data.opacity);\n    }, 0);\n\n    this.updateCursor();\n    this.updateText();\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive(\"a-input\", {\n  defaultComponents: {\n    input: {}\n  },\n  mappings: {\n    value: \"input.value\",\n    name: \"input.name\",\n    disabled: \"input.disabled\",\n    color: \"input.color\",\n    align: \"input.align\",\n    font: \"input.font\",\n    \"letter-spacing\": \"input.letterSpacing\",\n    \"line-height\": \"input.lineHeight\",\n    \"opacity\": \"input.opacity\",\n    \"side\": \"input.side\",\n    \"tab-size\": \"input.tabSize\",\n    placeholder: \"input.placeholder\",\n    \"placeholder-color\": \"input.placeholderColor\",\n    \"max-length\": \"input.maxLength\",\n    type: \"input.type\",\n    width: \"input.width\",\n    \"cursor-width\": \"input.cursorWidth\",\n    \"cursor-height\": \"input.cursorHeight\",\n    \"cursor-color\": \"input.cursorColor\",\n    \"background-color\": \"input.backgroundColor\",\n    \"background-opacity\": \"input.backgroundOpacity\"\n  }\n});\n","const Utils = require(\"../utils\");\nconst Event = require(\"../core/event\");\nconst Assets = require(\"./assets\");\nconst SFX = require(\"./sfx\");\n\nconst AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"switch\", {\n  schema: {\n    name: { type: \"string\", default: \"\" },\n    enabled: { type: \"boolean\", default: false },\n    disabled: { type: \"boolean\", default: false },\n    fillColor: { type: \"color\", default: \"#bababa\" },\n    knobColor: { type: \"color\", default: \"#f5f5f5\" },\n    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\n    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\n    fillColorDisabled: { type: \"color\", default: \"#939393\" },\n    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" }\n  },\n  init: function () {\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // FILL\n    this.el.fill = document.createElement(\"a-rounded\");\n    this.el.fill.setAttribute(\"width\", 0.36);\n    this.el.fill.setAttribute(\"height\", 0.16);\n    this.el.fill.setAttribute(\"radius\", 0.08);\n    this.el.fill.setAttribute(\"side\", \"double\");\n    this.el.fill.setAttribute(\"position\", \"0 0 0.01\");\n    this.el.appendChild(this.el.fill);\n\n    // KNOB\n    this.el.knob = document.createElement(\"a-circle\");\n    this.el.knob.setAttribute(\"position\", \"0.06 0.08 0.02\");\n    this.el.knob.setAttribute(\"radius\", 0.12);\n    this.el.knob.setAttribute(\"side\", \"double\");\n    this.el.appendChild(this.el.knob);\n\n    // SHADOW\n    this.el.shadow_el = document.createElement(\"a-image\");\n    this.el.shadow_el.setAttribute(\"width\", 0.24 * 1.25);\n    this.el.shadow_el.setAttribute(\"height\", 0.24 * 1.25);\n    this.el.shadow_el.setAttribute(\"position\", \"0 0 -0.001\");\n    this.el.shadow_el.setAttribute(\"src\", \"#aframeSwitchShadow\");\n    this.el.knob.appendChild(this.el.shadow_el);\n\n    this.el.addEventListener(\"click\", function () {\n      if (this.components.switch.data.disabled) { return; }\n      this.setAttribute(\"enabled\", !this.components.switch.data.enabled);\n      Event.emit(this, \"change\", this.components.switch.data.enabled);\n    });\n    this.el.addEventListener(\"mousedown\", function () {\n      if (this.components.switch.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, \"enabled\", {\n      get: function () { return this.getAttribute(\"enabled\"); },\n      set: function (value) { this.setAttribute(\"enabled\", value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  on: function () {\n    this.el.fill.setAttribute(\"color\", this.data.fillColorEnabled);\n    this.el.knob.setAttribute(\"position\", \"0.32 0.08 0.02\");\n    this.el.knob.setAttribute(\"color\", this.data.knobColorEnabled);\n  },\n  off: function () {\n    this.el.fill.setAttribute(\"color\", this.data.fillColor);\n    this.el.knob.setAttribute(\"position\", \"0.06 0.08 0.02\");\n    this.el.knob.setAttribute(\"color\", this.data.knobColor);\n  },\n  disable: function () {\n    this.el.fill.setAttribute(\"color\", this.data.fillColorDisabled);\n    this.el.knob.setAttribute(\"color\", this.data.knobColorDisabled);\n  },\n  update: function () {\n    if (this.data.enabled) {\n      this.on();\n    } else {\n      this.off();\n    }\n    if (this.data.disabled) {\n      this.disable();\n    }\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive(\"a-switch\", {\n  defaultComponents: {\n    switch: {}\n  },\n  mappings: {\n    name: \"switch.name\",\n    enabled: \"switch.enabled\",\n    disabled: \"switch.disabled\",\n    \"fill-color\": \"switch.fillColor\",\n    \"knob-color\": \"switch.knobColor\",\n    \"fill-color-enabled\": \"switch.fillColorEnabled\",\n    \"knob-color-enabled\": \"switch.knobColorEnabled\",\n    \"fill-color-disabled\": \"switch.fillColorDisabled\",\n    \"knob-color-disabled\": \"switch.knobColorDisabled\"\n  }\n});\n","const AFRAME = window.AFRAME;\n\nmodule.exports = [\n  { type: \"img\", id: \"aframeSwitchShadow\", src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png` },\n  { type: \"audio\", id: \"aframeSwitchClick\", src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3` },\n  { type: \"audio\", id: \"aframeSwitchClickDisabled\", src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3` }\n];\n","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeSwitchClickSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeSwitchClick\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n\n    el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeSwitchClickDisabledSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeSwitchClickDisabled\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n  },\n\n  click: function (parent) {\n    let el = parent.querySelector(\"[key=aframeSwitchClickSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function (parent) {\n    let el = parent.querySelector(\"[key=aframeSwitchClickDisabledSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n};\n\nmodule.exports = SFX;\n","const AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"form\", {\n  schema: {\n  },\n  init: function () {\n  },\n  update: function () {\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive(\"a-form\", {\n  defaultComponents: {\n    form: {}\n  },\n  mappings: {\n  }\n});\n","const Utils = require(\"../utils\");\nconst Event = require(\"../core/event\");\nconst Assets = require(\"./assets\");\nconst SFX = require(\"./sfx\");\n\nconst AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"radio\", {\n  schema: {\n    checked: { type: \"boolean\", default: false },\n    disabled: { type: \"boolean\", default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    radioColor: { type: \"color\", default: \"#757575\" },\n    radioColorChecked: { type: \"color\", default: \"#4076fd\" },\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement(\"a-plane\");\n    this.hitbox.setAttribute(\"height\", 0.2);\n    this.hitbox.setAttribute(\"opacity\", 0);\n    this.hitbox.setAttribute(\"position\", \"0 0 0.001\");\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement(\"a-ring\");\n    this.outline.setAttribute(\"radius-outer\", 0.1);\n    this.outline.setAttribute(\"radius-inner\", 0.078);\n    this.outline.setAttribute(\"position\", \"0.1 0 0.002\");\n    this.el.appendChild(this.outline);\n\n    // CIRCLE\n    this.circle = document.createElement(\"a-circle\");\n    this.circle.setAttribute(\"radius\", 0.05);\n    this.circle.setAttribute(\"position\", \"0.1 0 0.002\");\n    this.el.appendChild(this.circle);\n\n    // LABEL\n    this.label = document.createElement(\"a-entity\");\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener(\"click\", function () {\n      if (this.components.radio.data.disabled) { return; }\n      this.setAttribute(\"checked\", true);\n      that.onClick();\n    });\n    this.el.addEventListener(\"mousedown\", function () {\n      if (this.components.radio.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, \"value\", {\n      get: function () { return this.getAttribute(\"value\"); },\n      set: function (value) { this.setAttribute(\"value\", value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function (noemit) {\n    if (this.data.name) {\n      let nearestForm = this.el.closest(\"a-form\");\n      if (nearestForm) {\n        let didCheck = false;\n        let children = Array.from(nearestForm.querySelectorAll(`[name=${this.data.name}]`));\n        children.reverse();\n        for (let child of children) {\n          // Radio + not disabled\n          if (child.components.radio) {\n            // Currently checked\n            if (child === this.el && child.hasAttribute(\"checked\")) {\n              didCheck = true;\n              child.components.radio.check();\n              if (!noemit) { Event.emit(child, \"change\", true); }\n            } else {\n              if (!didCheck && !this.data.checked && child.hasAttribute(\"checked\")) {\n                didCheck = true;\n                child.components.radio.check();\n              } else {\n                child.components.radio.uncheck();\n              }\n            }\n          }\n        }\n        if (!didCheck && this.el.hasAttribute(\"checked\")) {\n          this.check();\n          if (!noemit) { Event.emit(this.el, \"change\", true); }\n        }\n      }\n    }\n  },\n  check: function () {\n    this.outline.setAttribute(\"color\", this.data.radioColorChecked);\n    this.circle.setAttribute(\"color\", this.data.radioColorChecked);\n    this.circle.setAttribute(\"visible\", true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function () {\n    this.outline.setAttribute(\"color\", this.data.radioColor);\n    this.circle.setAttribute(\"visible\", false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function () {\n    this.outline.setAttribute(\"color\", this.data.radioColor);\n    this.circle.setAttribute(\"color\", this.data.radioColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute(\"width\", this.data.width);\n    this.hitbox.setAttribute(\"position\", this.data.width / 2 + \" 0 0.001\");\n\n    let props = {\n      color: this.data.color,\n      align: \"left\",\n      wrapCount: 10 * (this.data.width + 0.2),\n      width: this.data.width\n    };\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute(\"text\", props);\n    this.label.setAttribute(\"position\", this.data.width / 2 + 0.24 + \" 0 0.002\");\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth (el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length - 1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function () {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function () {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 0.4);\n            Utils.updateOpacity(that.circle, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10);\n      } else {\n        let timer = setInterval(function () {\n          if (that.outline.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 1);\n            Utils.updateOpacity(that.circle, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10);\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive(\"a-radio\", {\n  defaultComponents: {\n    radio: {}\n  },\n  mappings: {\n    checked: \"radio.checked\",\n    disabled: \"radio.disabled\",\n    name: \"radio.name\",\n    value: \"radio.value\",\n    label: \"radio.label\",\n    \"radio-color\": \"radio.radioColor\",\n    \"radio-color-checked\": \"radio.radioColorChecked\",\n    color: \"radio.color\",\n    align: \"radio.align\",\n    font: \"radio.font\",\n    \"letter-spacing\": \"radio.letterSpacing\",\n    \"line-height\": \"radio.lineHeight\",\n    \"opacity\": \"radio.opacity\",\n    width: \"radio.width\"\n  }\n});\n","const AFRAME = window.AFRAME;\n\nmodule.exports = [\n  { type: \"audio\", id: \"aframeRadioClick\", src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3` },\n  { type: \"audio\", id: \"aframeRadioClickDisabled\", src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3` }\n];\n","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeRadioClickSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeRadioClick\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n\n    el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeRadioClickDisabledSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeRadioClickDisabled\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n  },\n\n  click: function (parent) {\n    let el = parent.querySelector(\"[key=aframeRadioClickSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function (parent) {\n    let el = parent.querySelector(\"[key=aframeRadioClickDisabledSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n};\n\nmodule.exports = SFX;\n","const Utils = require(\"../utils\");\nconst Event = require(\"../core/event\");\nconst Assets = require(\"./assets\");\nconst SFX = require(\"./sfx\");\n\nconst AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"checkbox\", {\n  schema: {\n    checked: { type: \"boolean\", default: false },\n    disabled: { type: \"boolean\", default: false },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"\" },\n    label: { type: \"string\", default: \"\" },\n    checkboxColor: { type: \"color\", default: \"#757575\" },\n    checkboxColorChecked: { type: \"color\", default: \"#4076fd\" },\n    color: { type: \"color\", default: \"#757575\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // HITBOX\n    this.hitbox = document.createElement(\"a-plane\");\n    this.hitbox.setAttribute(\"height\", 0.2);\n    this.hitbox.setAttribute(\"opacity\", 0);\n    this.el.appendChild(this.hitbox);\n\n    // OUTLINE\n    this.outline = document.createElement(\"a-rounded\");\n    this.outline.setAttribute(\"width\", 0.2);\n    this.outline.setAttribute(\"height\", 0.2);\n    this.outline.setAttribute(\"radius\", 0.02);\n    this.outline.setAttribute(\"position\", `0 -${0.2 / 2} 0.01`);\n    this.el.appendChild(this.outline);\n\n    // INSIDE\n    this.inside = document.createElement(\"a-rounded\");\n    this.inside.setAttribute(\"width\", 0.156);\n    this.inside.setAttribute(\"height\", 0.156);\n    this.inside.setAttribute(\"radius\", 0.01);\n    this.inside.setAttribute(\"color\", \"#EEE\");\n    this.inside.setAttribute(\"position\", `${0.156 / 8} -${0.156 / 2} 0.02`);\n    this.el.appendChild(this.inside);\n\n    // CHECKMARK\n    this.checkmark = document.createElement(\"a-image\");\n    this.checkmark.setAttribute(\"width\", 0.16);\n    this.checkmark.setAttribute(\"height\", 0.16);\n    this.checkmark.setAttribute(\"src\", \"#aframeCheckboxMark\");\n    this.checkmark.setAttribute(\"position\", \"0.1 0 0.03\");\n    this.el.appendChild(this.checkmark);\n\n    // LABEL\n    this.label = document.createElement(\"a-entity\");\n    this.el.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener(\"click\", function () {\n      if (this.components.checkbox.data.disabled) { return; }\n      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\n      this.setAttribute(\"checked\", this.components.checkbox.data.checked);\n      that.onClick();\n    });\n    this.el.addEventListener(\"mousedown\", function () {\n      if (this.components.checkbox.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      SFX.click(this);\n    });\n\n    Object.defineProperty(this.el, \"value\", {\n      get: function () { return this.getAttribute(\"value\"); },\n      set: function (value) { this.setAttribute(\"value\", value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function (noemit) {\n    if (this.data.checked) {\n      this.check();\n    } else {\n      this.uncheck();\n    }\n    if (!noemit) { Event.emit(this.el, \"change\", this.data.checked); }\n  },\n  check: function () {\n    this.outline.setAttribute(\"color\", this.data.checkboxColorChecked);\n    this.inside.setAttribute(\"color\", this.data.checkboxColorChecked);\n    this.checkmark.setAttribute(\"visible\", true);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  uncheck: function () {\n    this.outline.setAttribute(\"color\", this.data.checkboxColor);\n    this.inside.setAttribute(\"color\", \"#EEE\");\n    this.checkmark.setAttribute(\"visible\", false);\n    if (this.data.disabled) { this.disabled(); }\n  },\n  disabled: function () {\n    this.outline.setAttribute(\"color\", this.data.checkboxColor);\n    this.inside.setAttribute(\"color\", this.data.checkboxColor);\n  },\n  update: function () {\n    var that = this;\n    this.onClick(true);\n\n    // HITBOX\n    this.hitbox.setAttribute(\"width\", this.data.width);\n    this.hitbox.setAttribute(\"position\", this.data.width / 2 + \" 0 0.01\");\n\n    let props = {\n      color: this.data.color,\n      align: \"left\",\n      wrapCount: 10 * (this.data.width + 0.2),\n      width: this.data.width\n    };\n    if (this.data.font) { props.font = this.data.font; }\n\n    // TITLE\n    props.value = this.data.label;\n    props.color = this.data.color;\n    this.label.setAttribute(\"text\", props);\n    this.label.setAttribute(\"position\", this.data.width / 2 + 0.24 + \" 0 0.01\");\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth (el, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) { return 0; }\n      v = v[v.length - 1];\n      if (!v) { return 0; }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, _widthFactor);\n        }\n      }\n      return v;\n    }\n    setTimeout(function () {\n      if (that.data.label.length) {\n        getTextWidth(that.label);\n      }\n      if (that.data.disabled) {\n        let timer = setInterval(function () {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 0.4);\n            Utils.updateOpacity(that.label, 0.4);\n          }\n        }, 10);\n      } else {\n        let timer = setInterval(function () {\n          if (that.checkmark.object3D.children[0]) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.checkmark, 1);\n            Utils.updateOpacity(that.label, 1);\n          }\n        }, 10);\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive(\"a-checkbox\", {\n  defaultComponents: {\n    checkbox: {}\n  },\n  mappings: {\n    checked: \"checkbox.checked\",\n    disabled: \"checkbox.disabled\",\n    name: \"checkbox.name\",\n    value: \"checkbox.value\",\n    label: \"checkbox.label\",\n    \"checkbox-color\": \"checkbox.checkboxColor\",\n    \"checkbox-color-checked\": \"checkbox.checkboxColorChecked\",\n    color: \"checkbox.color\",\n    align: \"checkbox.align\",\n    font: \"checkbox.font\",\n    \"letter-spacing\": \"checkbox.letterSpacing\",\n    \"line-height\": \"checkbox.lineHeight\",\n    \"opacity\": \"checkbox.opacity\",\n    width: \"checkbox.width\"\n  }\n});\n","const AFRAME = window.AFRAME;\n\nmodule.exports = [\n  { type: \"img\", id: \"aframeCheckboxMark\", src: `${AFRAME.ASSETS_PATH}/images/CheckmarkIcon.png` },\n  { type: \"audio\", id: \"aframeCheckboxClick\", src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3` },\n  { type: \"audio\", id: \"aframeCheckboxClickDisabled\", src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3` }\n];\n","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeCheckboxClickSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeCheckboxClick\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n\n    el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeButtonClickDisabledSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeButtonClickDisabled\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n  },\n\n  click: function (parent) {\n    let el = parent.querySelector(\"[key=aframeCheckboxClickSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function (parent) {\n    let el = parent.querySelector(\"[key=aframeButtonClickDisabledSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n};\n\nmodule.exports = SFX;\n","const Utils = require(\"../utils\");\nconst Event = require(\"../core/event\");\nconst Assets = require(\"./assets\");\nconst SFX = require(\"./sfx\");\n\nconst AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"button\", {\n  schema: {\n    disabled: { type: \"boolean\", default: false },\n    type: { type: \"string\", default: \"raised\" },\n    name: { type: \"string\", default: \"\" },\n    value: { type: \"string\", default: \"Button\" },\n    buttonColor: { type: \"color\", default: \"#4076fd\" },\n    color: { type: \"color\", default: \"#FFF\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    opacity: { type: \"number\", default: 1 },\n    width: { type: \"number\", default: 1 }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    this.wrapper = document.createElement(\"a-entity\");\n    this.wrapper.setAttribute(\"position\", \"0 0 0.01\");\n    this.el.appendChild(this.wrapper);\n\n    this.shadow = document.createElement(\"a-image\");\n    this.shadow.setAttribute(\"height\", 0.36 * 1.25);\n    this.shadow.setAttribute(\"src\", \"#aframeButtonShadow\");\n    this.wrapper.appendChild(this.shadow);\n\n    // OUTLINE\n    this.outline = document.createElement(\"a-rounded\");\n    this.outline.setAttribute(\"height\", 0.36);\n    this.outline.setAttribute(\"radius\", 0.03);\n    this.outline.setAttribute(\"position\", `0 -${0.36 / 2} 0.01`);\n    this.wrapper.appendChild(this.outline);\n\n    // LABEL\n    this.label = document.createElement(\"a-entity\");\n    this.outline.appendChild(this.label);\n\n    // EVENTS\n    this.el.addEventListener(\"click\", function () {\n      if (this.components.button && this.components.button.data.disabled) { return; }\n      that.onClick();\n    });\n    this.el.addEventListener(\"mousedown\", function () {\n      if (this.components.button && this.components.button.data.disabled) {\n        return SFX.clickDisabled(this);\n      }\n      that.wrapper.setAttribute(\"position\", \"0 0 0.036\");\n      SFX.click(this);\n    });\n    this.el.addEventListener(\"mouseup\", function () {\n      if (this.components.button && this.components.button.data.disabled) { return; }\n      that.wrapper.setAttribute(\"position\", \"0 0 0\");\n    });\n\n    this.el.getWidth = this.getWidth.bind(this);\n    Object.defineProperty(this.el, \"value\", {\n      get: function () { return this.getAttribute(\"value\"); },\n      set: function (value) { this.setAttribute(\"value\", value); },\n      enumerable: true,\n      configurable: true\n    });\n  },\n  onClick: function () {\n    // Event.emit(this.el, 'click');\n  },\n  getWidth: function () {\n    return this.__width;\n  },\n  update: function () {\n    var that = this;\n    this.outline.setAttribute(\"color\", this.data.buttonColor);\n\n    let props = {\n      color: this.data.color,\n      align: \"center\",\n      wrapCount: 10 * this.data.width,\n      width: this.data.width\n    };\n    if (this.data.font) { props.font = this.data.font; }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // TITLE\n    props.value = this.data.value.toUpperCase();\n    this.label.setAttribute(\"text\", props);\n    this.label.setAttribute(\"position\", this.data.width / 2 + 0.24 + \" 0 0.01\");\n\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n    function getTextWidth (el, callback, _widthFactor) {\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n        return setTimeout(function () {\n          getTextWidth(el, callback);\n        }, 10);\n      }\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\n      if (!v) {\n        return setTimeout(function () {\n          getTextWidth(el, callback);\n        }, 10);\n      }\n      v = v[v.length - 1];\n      if (!v) { return callback(0); }\n      if (v.line) {\n        props.value = props.value.slice(0, -1);\n        el.setAttribute(\"text\", props);\n        return getTextWidth(el, callback);\n      } else {\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\n        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n        let textRatio = v / that.data.width;\n        if (textRatio > 1) {\n          props.value = props.value.slice(0, -1);\n          el.setAttribute(\"text\", props);\n          return getTextWidth(el, callback, _widthFactor);\n        }\n      }\n      return callback(v);\n    }\n    setTimeout(function () {\n      if (that.data.value.length) {\n        getTextWidth(that.label, (width) => {\n          that.label.setAttribute(\"position\", `${width / 2 + 0.28 / 2} ${0.36 / 2} 0.02`);//\n          width = width + 0.28;\n          that.outline.setAttribute(\"width\", width);\n          that.__width = width;\n          that.shadow.setAttribute(\"width\", width * 1.17);\n          that.shadow.setAttribute(\"position\", width / 2 + \" 0 0\");\n          Event.emit(that.el, \"change:width\", width);\n        });\n      }\n\n      if (that.data.disabled) {\n        that.shadow.setAttribute(\"visible\", false);\n        let timer = setInterval(function () {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 0.4);\n          }\n        }, 10);\n      } else {\n        let timer = setInterval(function () {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.el, 1);\n          }\n        }, 10);\n      }\n\n      if (that.data.type === \"flat\") {\n        that.shadow.setAttribute(\"visible\", false);\n        let timer = setInterval(function () {\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n            clearInterval(timer);\n            Utils.updateOpacity(that.outline, 0);\n            if (that.data.disabled) {\n              Utils.updateOpacity(that.label, 0.4);\n            }\n          }\n        }, 10);\n      }\n    }, 0);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive(\"a-button\", {\n  defaultComponents: {\n    button: {}\n  },\n  mappings: {\n    disabled: \"button.disabled\",\n    type: \"button.type\",\n    name: \"button.name\",\n    value: \"button.value\",\n    \"button-color\": \"button.buttonColor\",\n    color: \"button.color\",\n    font: \"button.font\",\n    \"letter-spacing\": \"button.letterSpacing\",\n    \"line-height\": \"button.lineHeight\",\n    \"opacity\": \"button.opacity\",\n    \"width\": \"button.width\"\n  }\n});\n","const AFRAME = window.AFRAME;\n\nmodule.exports = [\n  { type: \"img\", id: \"aframeButtonShadow\", src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png` },\n  { type: \"audio\", id: \"aframeButtonClick\", src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3` },\n  { type: \"audio\", id: \"aframeButtonClickDisabled\", src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3` }\n];\n","const SFX = {\n\n  init: function (parent) {\n    let el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeButtonClickSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeButtonClick\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n\n    el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeButtonClickDisabledSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeButtonClickDisabled\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n  },\n\n  click: function (parent) {\n    let el = parent.querySelector(\"[key=aframeButtonClickSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  },\n\n  clickDisabled: function (parent) {\n    let el = parent.querySelector(\"[key=aframeButtonClickDisabledSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n};\n\nmodule.exports = SFX;\n","const Utils = require(\"../utils\");\nconst Event = require(\"../core/event\");\nconst Assets = require(\"./assets\");\nconst SFX = require(\"./sfx\");\n\nconst AFRAME = window.AFRAME;\n\nAFRAME.registerComponent(\"toast\", {\n  schema: {\n    message: { type: \"string\", default: \"You are cool\" },\n    action: { type: \"string\", default: \"\" },\n    backgroundColor: { type: \"color\", default: \"#222\" }, // 242f35\n    actionColor: { type: \"color\", default: \"#4076fd\" },\n    color: { type: \"color\", default: \"#FFF\" },\n    font: { type: \"string\", default: \"\" },\n    letterSpacing: { type: \"int\", default: 0 },\n    lineHeight: { type: \"string\", default: \"\" },\n    width: { type: \"number\", default: 3 },\n    duration: { type: \"number\", default: 2000 },\n    autoshow: { type: \"boolean\", default: true }\n  },\n  init: function () {\n    var that = this;\n\n    // Assets\n    Utils.preloadAssets(Assets);\n\n    // SFX\n    SFX.init(this.el);\n\n    // CONFIG\n    this.el.setAttribute(\"position\", \"10000 10000 10000\");\n    this.el.setAttribute(\"rotation\", \"-25 0 0\");\n    this.el.setAttribute(\"scale\", \"0.3 0.3 0.3\");\n\n    // OUTLINE\n    this.background = document.createElement(\"a-rounded\");\n    this.background.setAttribute(\"height\", 0.44);\n    this.background.setAttribute(\"radius\", 0.03);\n    this.background.setAttribute(\"position\", `0 -${0.36 / 2} 0.001`);\n    this.el.appendChild(this.background);\n\n    // LABEL\n    this.label = document.createElement(\"a-entity\");\n    this.el.appendChild(this.label);\n\n    // LABEL\n    this.action = document.createElement(\"a-button\");\n    that.action.setAttribute(\"button-color\", \"#222\");\n    this.el.appendChild(this.action);\n\n    function changeWidth (e) {\n      let attr = that.label.getAttribute(\"text\");\n      attr.width = that.data.width - e.detail;\n      attr.wrapCount = 10 * attr.width;\n      that.label.setAttribute(\"text\", attr);\n      that.label.setAttribute(\"position\", attr.width / 2 + 0.14 + \" 0.04 0.001\");\n\n      this.setAttribute(\"position\", `${that.data.width - e.detail} ${(0.44 - 0.36) / 2} 0.001`);\n    }\n    this.action.addEventListener(\"change:width\", changeWidth);\n    this.action.addEventListener(\"click\", function () {\n      Event.emit(that.el, \"actionclick\");\n    });\n\n    let timer = setInterval(function () {\n      if (that.action.object3D && that.action.object3D.children[0]) {\n        clearInterval(timer);\n        Utils.updateOpacity(that.el, 0);\n        Utils.updateOpacity(that.label, 0);\n        Utils.updateOpacity(that.action, 0);\n        if (that.data.autoshow) { that.show(); }\n      }\n    }, 10);\n\n    // METHDOS\n    this.el.show = this.show.bind(this);\n    this.el.hide = this.hide.bind(this);\n  },\n  show: function () {\n    if (this.hideTimer) {\n      clearTimeout(this.hideTimer);\n    }\n    this.el.setAttribute(\"position\", `${-this.data.width / (2 / this.el.object3D.scale.x)} 0.25 -1.6`);\n    let that = this;\n    /* if (!this.el.parentNode && this.el._parentNode) {\n      this.el._parentNode.appendChild(this.el);\n    }*/\n    setTimeout(function () {\n      that.el.setAttribute(\"fadein\", {duration: 160});\n      setTimeout(function () {\n        Utils.updateOpacity(that.label, 1);\n        that.action.components.button.shadow.setAttribute(\"visible\", false);\n      }, 10);\n    }, 0);\n    this.hideTimer = setTimeout(function () {\n      that.hide();\n    }, this.data.duration);\n\n    SFX.show(this.el);\n  },\n  hide: function () {\n    let that = this;\n    setTimeout(function () {\n      Utils.updateOpacity(that.label, 0);\n      that.action.components.button.shadow.setAttribute(\"visible\", false);\n      setTimeout(function () {\n        that.el.setAttribute(\"fadeout\", {duration: 160});\n        setTimeout(function () {\n          /* if (that.el.parentNode) {\n            that.el._parentNode = that.el.parentNode;\n            that.el.parentNode.removeChild(that.el);\n          }*/\n          that.el.setAttribute(\"position\", \"10000 10000 10000\");\n        }, 200);\n      }, 10);\n    }, 0);\n  },\n  update: function () {\n    // BACKGROUND\n    this.background.setAttribute(\"color\", this.data.backgroundColor);\n    this.background.setAttribute(\"width\", this.data.width);\n\n    let props = {\n      color: this.data.color,\n      align: \"left\",\n      wrapCount: 10 * this.data.width,\n      width: this.data.width,\n      lineHeight: 64\n    };\n    if (this.data.font) { props.font = this.data.font; }\n\n    if (this.data.type === \"flat\") {\n      props.color = this.data.buttonColor;\n    }\n\n    // MESSAGE\n    props.value = this.data.message;\n    this.label.setAttribute(\"text\", props);\n    this.label.setAttribute(\"position\", this.data.width / 2 + 0.14 + \" 0 0.001\");\n\n    // ACTION\n    this.action.setAttribute(\"value\", this.data.action.toUpperCase());\n    this.action.setAttribute(\"color\", this.data.actionColor);\n  },\n  tick: function () {},\n  remove: function () {},\n  pause: function () {},\n  play: function () {}\n});\n\nAFRAME.registerPrimitive(\"a-toast\", {\n  defaultComponents: {\n    toast: {}\n  },\n  mappings: {\n    message: \"toast.message\",\n    action: \"toast.action\",\n    \"action-color\": \"toast.actionColor\",\n    \"background-color\": \"toast.backgroundColor\",\n    color: \"toast.color\",\n    font: \"toast.font\",\n    \"letter-spacing\": \"toast.letterSpacing\",\n    \"line-height\": \"toast.lineHeight\",\n    \"width\": \"toast.width\",\n    \"duration\": \"toast.duration\",\n    \"autoshow\": \"toast.autoshow\"\n  }\n});\n","const AFRAME = window.AFRAME;\n\nmodule.exports = [\n  { type: \"audio\", id: \"aframeToastShow\", src: `${AFRAME.ASSETS_PATH}/sounds/ToastShow.mp3` }\n];\n","const SFX = {\n  init: function (parent) {\n    let el = document.createElement(\"a-sound\");\n    el.setAttribute(\"key\", \"aframeToastShowSound\");\n    el.setAttribute(\"sfx\", true);\n    el.setAttribute(\"src\", \"#aframeToastShow\");\n    el.setAttribute(\"position\", \"0 2 5\");\n    parent.appendChild(el);\n  },\n\n  show: function (parent) {\n    let el = parent.querySelector(\"[key=aframeToastShowSound]\");\n    if (!el) { return; }\n    el.components.sound.stopSound();\n    el.components.sound.playSound();\n  }\n};\n\nmodule.exports = SFX;\n"],"sourceRoot":""}